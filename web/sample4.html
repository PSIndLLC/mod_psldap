<?xml version="1.0" standalone="yes"?>
<!doctype html public "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1l/DTD/transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
   <meta name="Author" content="David J. Picard" />
   <meta name="keywords" lang="us-en" content="mod_psldap,apache,sample" />
   <meta name="description" content="This is a sample HTML referencing psldap" />
   <meta name="robots" content="NOFOLLOW, INDEX" />
   <meta name="copyright" content="&copy; 2024 PSInd, LLC" />
   <meta name="date" content="2001-08-11T20:00:00-05:00" />
   <title>mod_psldap example</title>
   <link rel=STYLESHEET type="text/css" media="screen" href="/psldap/DSML_psldap.css" />
<!-- Background black, text white, links red (unvisited), yellow (visited), blue (active) -->
</head>
<!--#include virtual="/header.html" -->
<h1>XML Data Island</h1>
  <xml id="sample2" src="DSML_sample3.xml" />
  <xml id="sample2-style" src="DSML_cards.xsl" />
  <div id="transformContent">
  </div>
  <script>
    var dsmlLoaded = false;
    var processorLoaded = false;
    var dsmlTemplate = document.implementation.createDocument("", "", null);
    var dsmlDoc = document.implementation.createDocument("", "", null);
    dsmlDoc.onload = function() { loadedDSML(); }
    dsmlDoc.load("DSML_sample3.xml");

    function loadedDSML() {
      dsmlLoaded = true;
      alert("Loaded DSML content");
      
      dsmlTemplate.onload = function() { processDSML(); }
      dsmlTemplate.load("DSML_cards.xsl");
    }

    function processDSML() {
      // Netscape Mozilla only
      var dsmlProcessor = new XSLTProcessor();
      var contentDiv = document.getElementById("transformContent");
      contentDiv.innerHTML = "<p>Processing DSML...</p>";
      dsmlProcessor.importStylesheet(dsmlTemplate);
      var newFragment = dsmlProcessor.transformToFragment(dsmlDoc, document);
      contentDiv.innerHTML = "<p>Processed</p>";
      contentDiv.appendChild(newFragment);
    }
  </script>
<!--#include virtual="/footer.html" -->
</html>
